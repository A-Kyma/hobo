require File.expand_path('../../helper.rb', __FILE__)
irt_at_exit {git_reset_app}

user_resource_name = 'user'
eval_file '../generators/partials/_subsite_taglib_variables.rb'

invoke 'hobo:subsite_taglib', %w[ subs -q]
eval_file '../generators/partials/_subsite_taglib_noopt.rb'

git_reset_app
invoke 'hobo:subsite_taglib', %w[ subs -q --admin]
eval_file '../generators/partials/_subsite_taglib_admin.rb'

git_reset_app
invoke 'hobo:subsite_taglib', %w[ subs -q --admin --invite-only]
eval_file '../generators/partials/_subsite_taglib_admin_invite_only.rb'

git_reset_app
invoke 'hobo:subsite_taglib', %w[ subs account -q --admin --invite-only]
user_resource_name = 'account'
eval_file '../generators/partials/_subsite_taglib_variables.rb'
eval_file '../generators/partials/_subsite_taglib_admin_invite_only.rb'

