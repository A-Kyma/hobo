#!/usr/bin/env ruby
puts 'Hobo Command Line Interface 1.3.0.pre0'

banner = <<EOU

Usage:
    hobo new <app_name> [rails_options]   Creates a new Hobo Application
    hobo g <generator> [ARGS] [options]   Fires the hobo:<generator>
    hobo --help                           This help screen

EOU

template_path = File.expand_path('../hobo_template.rb', __FILE__)

command = ARGV.shift
argv = ARGV * ' '

case command
when 'new'
  exec "rails new #{argv} -m #{template_path}"
when /^(g|generate)$/
  if ARGV.empty?
    puts "\nThe generator name is missing!\n"
    puts banner
  else
    exec "rails g hobo:#{argv}"
  end
else
  puts "\n  => '#{command}' is an unknown command!\n"
  puts banner
end

